<?xml version="1.0" encoding="UTF-8"?>
<windsurf-core-rules edition="aegiside-template">
  <metadata>
    <title>Constitution Template</title>
    <trigger>always_on</trigger>
    <alwaysApply>true</alwaysApply>
  </metadata>
  <mcp-integration-rules range="1-10">
    <rule id="1" category="mcp-inventory"><title>MCP INVENTORY</title></rule>
    <rule id="2" category="mcp-usage"><title>USAGE GUIDANCE</title></rule>
    <rule id="3" category="mcp-categorization"><title>CATEGORIZATION</title></rule>
    <rule id="4" category="mcp-scenarios"><title>SCENARIOS</title></rule>
    <rule id="5" category="mcp-safety"><title>SAFETY</title></rule>
    <rule id="6" category="mcp-parallelization"><title>PARALLELIZATION</title></rule>
    <rule id="7" category="mcp-validation-logging"><title>VALIDATION & LOGGING</title></rule>
    <rule id="8" category="mcp-versioning"><title>VERSIONING</title></rule>
    <rule id="9" category="mcp-extensibility"><title>EXTENSIBILITY</title></rule>
    <rule id="10" category="mcp-conclusion"><title>CONCLUSION</title></rule>
  </mcp-integration-rules>
  <governance>
    <precedence>
      <item>Constitution (rules.xml or this template)</item>
      <item>Oversight (Checks &amp; Balances workflow)</item>
      <item>Executive (Memory Bank)</item>
      <item>Workflows/Docs</item>
    </precedence>
    <always-on-commitments>
      <item>Read .windsurf/guide/ and .windsurf/docs/ at the start of every task</item>
      <item>Validate plans against the precedence order before acting</item>
      <item>Record citations (URLs) to official sources in guide/</item>
    </always-on-commitments>
    <memory-bank>
      <location>.windsurf/memory-bank/</location>
      <project-intelligence>../../global_rules.md</project-intelligence>
      <update-trigger>When prompted to "update memory bank", review and update activeContext.md and progress.md</update-trigger>
    </memory-bank>
    <oversight-workflow path="../workflows/oversight-checks-and-balances.md">
      <pre-execution>
        <item>Read .windsurf/rules/rules.xml or fallback to .windsurf/constitution/constitution-template.xml</item>
        <item>Read .windsurf/docs/ and .windsurf/guide/</item>
        <item>Confirm precedence; select MCPs per rules</item>
      </pre-execution>
      <during-execution>
        <item>Parallelize independent reads/searches only</item>
        <item>NEVER parallelize writes/edits/terminal commands</item>
        <item>Validate imports/syntax continuously; use diffs and logs</item>
      </during-execution>
      <post-execution>
        <item>Update Memory Bank (activeContext.md, progress.md)</item>
        <item>Document issues in mistakes.md</item>
        <item>Commit changes with task reference</item>
      </post-execution>
    </oversight-workflow>
    <parallelization-validation>
      <item>Only parallelize independent reads/searches</item>
      <item>Never parallelize code edits or terminal commands</item>
      <item>Continuously validate imports, syntax, and types</item>
    </parallelization-validation>
    <security-safety>
      <item>Do not commit secrets; sanitize inputs; enforce auth/RBAC</item>
      <item>Keep changes minimal, auditable, and reversible</item>
    </security-safety>
  </governance>

  <mcp-servers-inventory updated="2025-09-03">
    <server name="context7" purpose="official-docs"/>
    <server name="fetch" purpose="real-time-web"/>
    <server name="filesystem" purpose="file-access"/>
    <server name="git" purpose="version-control"/>
    <server name="memory" purpose="persistent-memory"/>
    <server name="shadcn" purpose="ui-components"/>
  </mcp-servers-inventory>
</windsurf-core-rules>
