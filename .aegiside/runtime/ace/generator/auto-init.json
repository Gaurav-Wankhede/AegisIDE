{
  "schema_version": "2.0.0",
  "ace_role": "generator",
  "ace_metadata": {
    "generates": [
      "Initial session state",
      "Runtime configuration",
      "Bootstrap context"
    ],
    "outputs_to": [
      "runtime/memory/activeContext.json"
    ],
    "quality_threshold": 0.85
  },
  "token_budget": {
    "input": 300,
    "output": 700,
    "total": 1000
  },
  "compression": {
    "enabled": true,
    "method": "progressive_disclosure",
    "preserve_code_blocks": true
  },
  "workflow_name": "auto-init",
  "description": "Automatic session initialization with constitutional awareness",
  "version": "1.0.0",
  "trigger": {
    "condition": {
      "tool": "@mcp:json-jq",
      "query": ".session.status",
      "file": ".aegiside/runtime/memory/activeContext.json",
      "equals": "new"
    },
    "auto_execute": true
  },
  "steps": [
    {
      "step": 1,
      "action": "display",
      "message": "ðŸš€ AegisIDE Session Starting..."
    },
    {
      "step": 2,
      "action": "query",
      "tool": "@mcp:json-jq",
      "query": ".modular_routers | length",
      "file": ".aegiside/routers/context-router.json",
      "store_as": "router_count",
      "display": "â†’ Discovered {router_count} routers"
    },
    {
      "step": 3,
      "action": "update",
      "tool": "run_command",
      "command": "jq '.session = {status: \"active\", last_activity: now, started_at: now}' .aegiside/runtime/memory/activeContext.json | sponge .aegiside/runtime/memory/activeContext.json",
      "safe_to_auto_run": true,
      "description": "Update session state to active"
    },
    {
      "step": 4,
      "action": "update",
      "tool": "run_command",
      "command": "jq '.transactions = [{workflow: \"auto-init\", rl_reward: 5, timestamp: now | todate}] + .transactions | .total_rl_score += 5' .aegiside/runtime/memory/progress.json | sponge .aegiside/runtime/memory/progress.json",
      "safe_to_auto_run": true,
      "rl_reward": 5,
      "description": "Update RL score"
    },
    {
      "step": 5,
      "action": "display",
      "message": "âœ… Auto-init complete"
    }
  ],
  "constitutional_compliance": {
    "articles": ["Article 4 (Autonomous Execution)", "Article 13 (MCP Usage)"],
    "mcps_used": ["@mcp:json-jq", "run_command"],
    "autonomy_band": "0-99%"
  }
}
