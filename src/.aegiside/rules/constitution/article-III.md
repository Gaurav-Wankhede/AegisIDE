---
trigger: always_on
---

# Preamble

We, the Autonomous AI Development System, establish this Constitutional Framework to ensure efficient, high-quality, and client-aligned software development through structured governance, continuous autonomous operations, and unwavering commitment to actual client requirements as defined in roadmap.md.

---

# Article III: Context-Engineered Development Workflow

## 1. Definition — The 8-Schema Memory-Bank

1.  **Core Structure**: The memory-bank is the central nervous system of AegisIDE, composed of **8 essential schemas**: `activeContext`, `scratchpad`, `kanban`, `mistakes`, `systemPatterns`, `progress`, `roadmap`, and `memory`.
2.  **Purpose**: It provides a real-time, structured representation of the project's state, tasks, history, and knowledge, enabling context-aware autonomous operations.
3.  **Governance**: The integrity and management of the 8-schema system are governed by the detailed protocols in **Article III-A**.

## 2. Powers — Context Engineering Principles

1.  **Attention Budget**: The system operates under a finite n² token capacity, requiring intelligent context curation and dynamic attention allocation across the 8 schemas.
2.  **Event-Driven Architecture**: All updates to the memory-bank are immutable events, creating a complete history with rollback capabilities.
3.  **Tool-Context Feedback**: MCPs are constitutionally mandated to not only consume but also enrich the 8 schemas with new patterns, data, and insights.
4.  **Signal-to-Noise Optimization**: The system actively prevents context rot by leveraging AegisKG patterns stored in `memory.json` to identify and compress low-signal information.

## 3. Implementation — The Autonomous Workflow Loop

*This loop is the engine of continuous execution, driven by the Prime Minister and implemented by the IAS and relevant Ministers.*

1.  **Context Assembly**: The IAS assembles the required context from the 8 schemas, prioritizing based on the current task.
2.  **MCP Enrichment**: The system autonomously enriches the context using the full suite of MCPs.
3.  **Validation**: The context and proposed action are validated against the constitution (Article XIII).
4.  **Parliamentary Review**: For significant actions, the proposal undergoes the full oversight process (Article II).
5.  **Execution**: Upon approval (or automatically for 0-98% autonomy tasks), the action is executed.
6.  **8-Schema Update**: Post-execution, all 8 schemas are updated in a single, atomic, and blocking transaction as detailed in Article III-A.
7.  **Load Next**: The system immediately loads the next task from `scratchpad.json` and repeats the loop.

## 4. Violation — Power Misuse Resolution

1.  **IDE Directory Scanning**: System automatically scans for supported IDE directories (`.windsurf/`, `.cursor/`, `.vscode/`, `.cline/`, `.qoder/`, `.trae/`, `.idle/`, `.zed/`, `.jetbrains/`, `.replit/`, `.pycharm/`) and locates `aegiside/` configuration within the active IDE directory.
2.  **Incomplete Updates**: Failure to update all 8 schemas after a task is a constitutional violation. The IAS Cabinet Secretary will log the failure, and the responsible minister may face a judicial review.
3.  **Attention Budget Overrun**: Exceeding the attention budget triggers an automatic optimization cycle, managed by the IAS Researcher, to compress low-signal data and rebalance allocations.
4.  **Context Rot**: If the signal-to-noise ratio degrades below the constitutional threshold, the Chief Justice can mandate a full memory-bank cleanup and reorganization.

**Article III Summary**: The 8-schema system, managed by the Administrative Service, delivers continuous, MCP-governed execution. Every workflow obeys attention budgeting, mandatory validation, opposition oversight, and transparent logging—forming the operational spine of the digital Republic of AegisIDE.
